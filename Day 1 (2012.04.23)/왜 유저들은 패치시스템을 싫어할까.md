# 왜 유저들은 패치시스템을 싫어할까?
##### 양정근(엔트리브 소프트 NTG)

#### NTG 소개
- NTG(Next Technology Group)
- 다른 팀을 지원해주는 역할

#### 게임 패치에 사용하는 시스템
- 다른 게임들이 사용하는 솔루션
- Game Tree Launcher (GTL)

#### 패치의 느린 속도
- **앨리샤의 경우** : 홈페이지 접속 -> 로그인 -> 게임 데이터 다운로드(게임의 필수 요소, 시간이 많이 걸린다) -> **설치 취소!**
- 시간 낭비는 유저의 돈과 같다

#### 귀찮은 설치 과정 
- 게임 설치를 위해서라도 유저를 달리게 해야하는데, 중간에 허들(장애물 = 클릭)이 엄청나게 있다면? -> **설치 취소!**
- 드라고나4의 경우 **클릭수가 18회** -> 클릭하는 시간만 약 15초!
- 클릭 한번도 엄청난 노동이라고 생각하는 사람들이 많다
- **_설치 과정은 간단해야 한다_**

#### 복잡한 패치
- **버전 패치(델타 업데이트)** : 버전의 변경점을 순차적으로 설치하는 방법
- **World of Warcraft의 경우** : 패치를 두번 하면서 동의를 두번 하는 경우가 있음
- 진행 상태 막대는 한번만 나오게
- **패치는 한번만 편하게**

#### 반복되는 재설치
- **데이터 이상** : 다운로드시 오류, 바이러스 침입 등
- **유저를 화나게 하는 대처** : 무시, 재설치 요구, 전체 재패치

#### 파일 관리의 문제
- 게임 기능 추가에 따른 데이터 증가
- 같은 파일이 바뀐 경우
- 기존 파일을 쓰게 되지 않는 경우
- **확실한 정리가 필요하다**

#### 게임 패치의 요건
1. 빠른 속도
2. 간단한 설치
3. 간편한 패치
4. 데이터의 무결성
5. 파일 관리

#### GTL
- 위의 5가지 기능을 가지고 있음
- 설치 기능, 패치 기능, 패킹 기능
- 앨리샤, 프로야구매니저, 파워레인저(베타)에 사용 가능
- 기존에는 `설치파일다운 -> 파일설치 -> 추가패치 -> 게임실행` 의 단계를 거쳤다면, GTL은 `팩파일 다운 -> 추가 패치 -> 게임 실행` 의 단계를 거쳐 설치가 진행됨


#### 벤치마킹
- vs 넥슨, 한게임, NC, JCE, 네오위즈
- 시간 측정
- 게임 시작 외 추가 클릭수
- 데이터 변조
- 동일한 환경에서 실험
- GTL은 10회 평균, 타사 게임은 회사 평균

#### 벤치마킹 : 설치 시간
- 앨리샤 2분 7초, 프야매 3분 7초, 파워레인저 3분 32초
- GTL이 타 솔루션에 비해 약 48분의 시간 이득을 볼 수 있음

#### 벤치마킹 : 게임시작 외 클릭수
- GTL : 게임 시작 -> 약관 동의 -> 설치 -> 게임 바로 실행 (클릭수 1)
- 타사 평균 7회

#### 벤치마킹 : 패치 방법 
- 이어받기가 되지 않는 대기업 게임들이 20%
- 패치 이어받기가 되지 않는 대기업 게임들이 53%
- GTL은 서버-PC간의 동기화 방식을 채용 : 꼭 필요한 파일만을 남겨둘 수 있지만, 파일 비교시 시간이 오래 걸린다.

#### 벤치마킹 : 데이터 무결성
- 데이터의 결점을 발견하지 못하는 게임이 52%, 나머지는 재패치나 재설치를 요구

#### 벤치마킹 : 파일 관리 (GTL)
- zlib, lzma 지원
- TEA/ASE + 자체 암호화 포맷
- 각팀에서 암호화 키 관리
- 파일을 팩으로 만들어 단일 관리 / 파일시스템 라이브러리 제공

#### GTL 추후
- 재미있는 설치 : 중독성 있는 게임과 튜토리얼을 지원
- OS X 지원 : 멀티플랫폼
- 암호화 강화 : 자체 보호 시스템 강화
- Dual CDN : 기존 95%의 버그가 CDN의 문제인 경우가 많다. 단일 CDN에서 파일을 받다 다운이 되지 않으면 CDN2에서 다운 재개
- 잠수함 패치 : 최소한의 파일만 받고 바로 게임 실행 후 백그라운드에서 다운로드 등